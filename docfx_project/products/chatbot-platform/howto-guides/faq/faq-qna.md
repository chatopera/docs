# 维护知识库问答对

能回答问题的前提要了解**问题**是什么。比如用户问：土豆多少钱一斤？如果知识库中没有这个问题，机器人就无法回复给用户，我们需要把这个用户的**输入**添加到知识库中，下次用户再问这个问题，机器人就可以把答案回复给用户。**问题**就是预期用户会**发送的文字**，机器人使用**答案**回复。

问题、相似问题和答案组成了**问答对**。建立问答对时，支持添加多个**相似问题** - 不同的用户说法不同，但都是同一个意思，相似问也被称为**扩展问**，二者表达同一个概念。相似问题和**自定义词典**大大加强了问答对适应用户各种问法的能力，自定义词典支持维护近义词。下面进行详细介绍。

## 新建问答对

在知识库页面点击「+」

![创建问答对](../../../../images/products/faq/image2020-7-16_17-37-50.png)

在机器人管理面板中，还有其它地方可以创建问答对，比如历史记录页面点击「+」创建问答对。这些创建或修改问答对的快捷方式提升了维护知识库的便捷性。

## 设定答案

### 问答对支持多答案

针对用户业务的特点，每个问答对中，可以包含 1-10 个答案。多答案的设定，对于**业务系统**集成知识库更友好。这是因为，业务系统将保持更大的灵活性，选择最合适的策略推送给来访者。

> “业务系统”是一个宽泛的概念，因为知识库是通用的，比如电商、教育等行业都可以使用，在 Chatopera 机器人平台被来访者访问到前，通常会有一个集成渠道或处理业务逻辑的软件，这个软件统一的称之为“业务系统”。

比如，电商类的问题，有一个鞋帽类产品介绍，包含了多个图片，那么知识库中关联多个图文消息，每个图文消息可以每隔 3 秒钟发送一个，消费者收到消息时，对缩略图都形成印象。

又比如，客户端涉及**答案 1**推送给微信渠道用户，**答案 2**推送给微博渠道用户，多答案的设定，可以满足更多复杂需求。

以上举例只是为了说明多答案给应用知识库带来的灵活性，同时，知识库问答对支持多种答案类型。

### 纯文本

以一段文本内容作为答案。
步骤：新建问题页面点击「增加」下拉框，选择「文本」

### 富文本

使用富文本编辑器，最终答案将保存为 HTML 格式。

步骤：新建问题页面点击「增加」下拉框，选择「HTML」

![富文本类型](../../../../images/products/faq/image2020-7-16_17-40-38.png)

### 图文消息

由标题、描述、图片和超链接组成的答案，适合展示为缩略图并配合文字，来访者点击后打开超链接。

步骤：新建问题页面点击「增加」下拉框，选择「图文」

![图文消息类型](../../../../images/products/faq/image2020-7-16_17-41-57.png)

## 机器人置信度

设置问答对后，知识库能回答哪些问题了呢？如果用户问法不一样，机器人的“理解”能力怎么样呢？

### 置信度

机器人在检索知识库时，有一个判断来访者输入的问题和知识库中哪个问答对最匹配的时候，使用“置信度”为衡量标准。置信度*score*（也称为命中域值、相似度），它的值在[0~1]区间，值越大代表机器人越确定回复的准确性。

### 最佳回复和建议回复

当置信度高于某数值时，机器人就认为置信度最高的答案匹配上了来访者的问题，可以将该问答对的答案回复给来访者，该数值称为**最佳回复阀值**；当没有问答对的相似度高于最佳回复阀值，但是有一些问答对可以作为建议回复发送给来访者，展示为“您是想咨询一下问题吗”，然后列一个列表，请来访者选择，那么可以进入这个列表的问答对，需要高于某数值，该数值称为**建议回复阀值**。

![调试命中率](../../../../images/platform/4.png)

对知识库的评测，常常用一系列测试问题查询返回结果，进而计算机器人回答的准确率评价检索系统。调试结果可以指导合理设置**最佳回复阀值**和**建议回复阀值**，这两个值对于业务系统集成知识库具有很重要的意义。

在熟悉了置信度的概念以后，就可以开始调试知识库了。
